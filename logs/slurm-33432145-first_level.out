Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=6000, mem_mib=5723, disk_mb=1000, disk_mib=954, cpus=2, time_min=10, gpu=0
Select jobs to execute...

[Tue Mar 14 12:24:15 2023]
rule first_level:
    input: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1
    output: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_unthresholded_fc.nii.gz, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_figure.png
    jobid: 0
    reason: Missing output files: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_figure.png, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_unthresholded_fc.nii.gz
    wildcards: resultsdir=/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh, subject=rugby1, session=b, network=Salience
    resources: mem_mb=6000, mem_mib=5723, disk_mb=1000, disk_mib=954, tmpdir=/dev/shm/jobs/33432145, cpus=2, time_min=10, gpu=0

python ./scripts/first_level.py /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_space-MNI152NLin2009cAsym_res-2_desc-brain_mask.nii.gz /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_space-MNI152NLin2009cAsym_res-2_desc-preproc_bold.nii.gz /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_desc-confounds_timeseries.tsv /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_unthresholded_fc.nii.gz /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_figure.png -a_img ./atlas/MSDL_rois/msdl_rois.nii -a_lab ./atlas/MSDL_rois/msdl_rois_labels.csv -tr 1.5 -rg csf white_matter trans_x trans_y trans_z rot_x rot_y rot_z -ntwk Salience -hp 0.01 -lp 0.1 -fwhm 6 -fdr 0.01 -fc 0.25 -v
Activating conda environment: .snakemake/conda/77cd6f8bc7354c0aed9f21ce8b6acbbb_
/scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/conda/77cd6f8bc7354c0aed9f21ce8b6acbbb_/lib/python3.9/site-packages/nilearn/datasets/__init__.py:93: FutureWarning: Fetchers from the nilearn.datasets module will be updated in version 0.9 to return python strings instead of bytes and Pandas dataframes instead of Numpy arrays.
  warn("Fetchers from the nilearn.datasets module will be "
2023-03-14 12:24:19,076 :: root :: INFO :: Loading mask image (3D): /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_space-MNI152NLin2009cAsym_res-2_desc-brain_mask.nii.gz
2023-03-14 12:24:19,078 :: root :: INFO :: Loading resting-state fMRI image (4D): /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_space-MNI152NLin2009cAsym_res-2_desc-preproc_bold.nii.gz
2023-03-14 12:24:19,078 :: root :: INFO :: This image was collected with a TR of: 1.5
2023-03-14 12:24:19,082 :: root :: INFO :: Loading timeseries for confounding variables from: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_desc-confounds_timeseries.tsv
2023-03-14 12:24:19,106 :: root :: INFO :: Confound regressors that will be cleaned from signal:

             csf  white_matter   trans_x   trans_y   trans_z     rot_x     rot_y     rot_z
0    2991.664379   1865.220854  0.020737 -0.050672 -0.122130 -0.000643 -0.000000  0.000000
1    2977.803593   1859.649555  0.041141 -0.050796 -0.115539  0.000423  0.000114  0.000000
2    2978.211587   1860.852090  0.025041 -0.050660 -0.055646 -0.001078 -0.000000 -0.000306
3    2975.987442   1858.913003  0.056127 -0.050848 -0.111046  0.000144 -0.000000  0.000322
4    2977.818388   1861.793585  0.025022 -0.042116  0.013429 -0.000889 -0.000474  0.000113
..           ...           ...       ...       ...       ...       ...       ...       ...
195  2968.595377   1864.218725  0.051051  0.114548 -0.235339  0.002641 -0.001447  0.000562
196  2970.461223   1863.647073  0.066731  0.119399 -0.257627  0.003351 -0.000941  0.000562
197  2973.157662   1866.974025  0.041786  0.115706 -0.160934  0.002325 -0.001325  0.000229
198  2976.644481   1867.048104  0.073638  0.130733 -0.291406  0.003371 -0.000909  0.000562
199  2978.831639   1867.614665  0.053636  0.135375 -0.120272  0.002728 -0.001756  0.000000

[200 rows x 8 columns]
2023-03-14 12:24:19,106 :: root :: INFO :: Loading regions-of-interest from atlas provided
2023-03-14 12:24:19,107 :: root :: INFO :: Functional networks available in atlas:
2023-03-14 12:24:19,107 :: root :: INFO :: Striate
2023-03-14 12:24:19,107 :: root :: INFO :: Temporal
2023-03-14 12:24:19,107 :: root :: INFO :: Aud
2023-03-14 12:24:19,107 :: root :: INFO :: Cing-Ins
2023-03-14 12:24:19,107 :: root :: INFO :: L V Att
2023-03-14 12:24:19,107 :: root :: INFO :: DMN
2023-03-14 12:24:19,108 :: root :: INFO :: Cereb
2023-03-14 12:24:19,108 :: root :: INFO :: Basal
2023-03-14 12:24:19,108 :: root :: INFO :: D Att
2023-03-14 12:24:19,108 :: root :: INFO :: Salience
2023-03-14 12:24:19,108 :: root :: INFO :: R V Att
2023-03-14 12:24:19,108 :: root :: INFO :: Dors PCC
2023-03-14 12:24:19,108 :: root :: INFO :: Vis Sec
2023-03-14 12:24:19,108 :: root :: INFO :: Ant IPS
2023-03-14 12:24:19,108 :: root :: INFO :: Occ post
2023-03-14 12:24:19,108 :: root :: INFO :: Language
2023-03-14 12:24:19,108 :: root :: INFO :: Motor
2023-03-14 12:24:19,108 :: root :: INFO :: 
Details about seed(s) within selected network
2023-03-14 12:24:19,140 :: root :: INFO :: Shape of network nodes from atlas image (40, 48, 35, 3)
/scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/conda/77cd6f8bc7354c0aed9f21ce8b6acbbb_/lib/python3.9/site-packages/nilearn/plotting/img_plotting.py:341: FutureWarning: Default resolution of the MNI template will change from 2mm to 1mm in version 0.10.0
  anat_img = load_mni152_template()
/scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/conda/77cd6f8bc7354c0aed9f21ce8b6acbbb_/lib/python3.9/site-packages/numpy/ma/core.py:2826: UserWarning: Warning: converting a masked element to nan.
  _data = np.array(data, dtype=dtype, copy=copy,
2023-03-14 12:24:21,406 :: root :: INFO :: BOLD signal will be standardized, detrended, and cleaned based with a Bandpass filter set to 0.1-0.01 Hz and a 6 mm full-width-half-maximum smoothing kernel 

2023-03-14 12:24:21,406 :: root :: INFO :: Generating mask for network of interest based on seed coordinates in atlas
/scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/conda/77cd6f8bc7354c0aed9f21ce8b6acbbb_/lib/python3.9/site-packages/nilearn/image/image.py:1106: FutureWarning: The parameter "sessions" will be removed in 0.9.0 release of Nilearn. Please use the parameter "runs" instead.
  data = signal.clean(
2023-03-14 12:24:34,021 :: root :: INFO :: Converting functional network data to timeseries with shape: (200, 3)
2023-03-14 12:24:34,023 :: root :: INFO :: Generating mask for whole brain
2023-03-14 12:25:01,366 :: root :: INFO :: Converting whole brain data to timeseries with shape: (200, 232084)
2023-03-14 12:25:01,367 :: root :: INFO :: Performing network to voxel correlation analysis
2023-03-14 12:25:01,465 :: root :: INFO :: Network-to-voxel correlation shape: (232084, 3)
2023-03-14 12:25:01,466 :: root :: INFO :: Network-to-voxel correlation: min = -0.649; max = 0.948
2023-03-14 12:25:01,700 :: root :: INFO :: Performing False Discovery Rate correction
2023-03-14 12:25:01,975 :: root :: INFO :: Saving UNTHRESHOLDED image to /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_unthresholded_fc.nii.gz
2023-03-14 12:25:02,094 :: root :: INFO :: Saving plot of Salience connectivity THRESHOLDED at 0.25 to /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/first_level_results/sub-rugby1/ses-b/sub-rugby1_ses-b_Salience_figure.png
[NiftiMasker.fit] Loading data from None
[NiftiMasker.fit] Resampling mask
[NiftiMasker.transform_single_imgs] Loading data from Nifti1Image('/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_josh/bids/derivatives/fmriprep/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_space-MNI152NLin2009cAsym_res-2_desc-preproc_bold.nii.gz')
[NiftiMasker.transform_single_imgs] Smoothing images
[NiftiMasker.transform_single_imgs] Extracting region signals
[NiftiMasker.transform_single_imgs] Cleaning extracted signals
[Tue Mar 14 12:25:03 2023]
Finished job 0.
1 of 1 steps (100%) done
