Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Provided resources: mem_mb=4000, mem_mib=3815, disk_mb=1000, disk_mib=954, cpus=2, time_min=60, gpu=0
Select jobs to execute...

[Mon Mar 20 15:49:55 2023]
rule heudiconv:
    input: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/tidy/sub_control17/ses_a
    output: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/.heudiconv/control17/ses-a
    jobid: 0
    reason: Missing output files: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/.heudiconv/control17/ses-a, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a
    wildcards: resultsdir=/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long, subject=control17, session=a
    resources: mem_mb=4000, mem_mib=3815, disk_mb=1000, disk_mib=954, tmpdir=/dev/shm/jobs/33549883, cpus=2, time_min=60, gpu=0

heudiconv --dicom_dir_template '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/tidy/sub_{subject}/ses_{session}/*/*' --outdir /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids --heuristic scripts/heuristic.py --subjects control17 --ses a --converter dcm2niix --bids --overwrite
Activating singularity image /scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/singularity/10b2306ed15c5efc917232958423bfe6.simg
INFO: Running heudiconv version 0.11.4.post18+g1fe815b.d20221025 latest 0.12.2
INFO: Need to process 1 study sessions
INFO: PROCESSING STARTS: {'subject': 'control17', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/', 'session': 'a'}
INFO: Processing 16504 dicoms
INFO: Analyzing 16504 dicoms
INFO: Generated sequence info for 5 studies with 16504 entries total
INFO: Doing conversion using dcm2niix
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w (320 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat . Converter: dcm2niix . Output types: ('nii.gz',)
230320-02:56:58,634 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/tmp/dcm2niixk1_f6iqe/convert".
INFO: [Node] Setting-up "convert" in "/tmp/dcm2niixk1_f6iqe/convert".
230320-02:56:58,888 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230320-02:57:12,719 nipype.interface INFO:
	 stdout 2023-03-20T02:57:12.719858:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-03-20T02:57:12.719858:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230320-02:57:12,720 nipype.interface INFO:
	 stdout 2023-03-20T02:57:12.719858:Found 320 DICOM file(s)
INFO: stdout 2023-03-20T02:57:12.719858:Found 320 DICOM file(s)
230320-02:57:12,720 nipype.interface INFO:
	 stdout 2023-03-20T02:57:12.719858:Image Decompression is new: please validate conversions
INFO: stdout 2023-03-20T02:57:12.719858:Image Decompression is new: please validate conversions
230320-02:57:12,720 nipype.interface INFO:
	 stdout 2023-03-20T02:57:12.719858:Resolved discrepancy between tags (0020,1002; 0021,104F; 0054,0081)
INFO: stdout 2023-03-20T02:57:12.719858:Resolved discrepancy between tags (0020,1002; 0021,104F; 0054,0081)
230320-02:57:12,720 nipype.interface INFO:
	 stdout 2023-03-20T02:57:12.719858:Convert 320 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w_heudiconv289 (512x512x320x1)
INFO: stdout 2023-03-20T02:57:12.719858:Convert 320 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w_heudiconv289 (512x512x320x1)
230320-02:57:18,921 nipype.interface INFO:
	 stdout 2023-03-20T02:57:18.921153:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w_heudiconv289.nii"
INFO: stdout 2023-03-20T02:57:18.921153:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w_heudiconv289.nii"
230320-02:57:18,921 nipype.interface INFO:
	 stdout 2023-03-20T02:57:18.921153:Conversion required 19.780890 seconds (9.825968 for core code).
INFO: stdout 2023-03-20T02:57:18.921153:Conversion required 19.780890 seconds (9.825968 for core code).
230320-02:57:18,946 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 19.817256s.
INFO: [Node] Finished "convert", elapsed time 19.817256s.
WARNING: Failed to find task field in /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w.json.
230320-02:57:18,980 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/tmp/embedmeta6740vfb5/embedder".
INFO: [Node] Setting-up "embedder" in "/tmp/embedmeta6740vfb5/embedder".
230320-02:57:19,52 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
/opt/miniconda-py39_4.12.0/lib/python3.9/site-packages/pydicom/valuerep.py:290: UserWarning: The value length (32) exceeds the maximum length of 16 allowed for VR SH.
  warnings.warn(msg)
230320-02:57:32,303 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 13.249896s.
INFO: [Node] Finished "embedder", elapsed time 13.249896s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/anat/sub-control17_ses-a_run-001_T1w.json file
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-001_bold (10400 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func . Converter: dcm2niix . Output types: ('nii.gz',)
230320-02:57:33,621 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/tmp/dcm2niixdy6i31_f/convert".
INFO: [Node] Setting-up "convert" in "/tmp/dcm2niixdy6i31_f/convert".
230320-02:57:42,101 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230320-03:00:07,164 nipype.interface INFO:
	 stdout 2023-03-20T03:00:07.164194:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-03-20T03:00:07.164194:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230320-03:00:07,164 nipype.interface INFO:
	 stdout 2023-03-20T03:00:07.164194:Found 10400 DICOM file(s)
INFO: stdout 2023-03-20T03:00:07.164194:Found 10400 DICOM file(s)
230320-03:00:07,164 nipype.interface INFO:
	 stdout 2023-03-20T03:00:07.164194:Image Decompression is new: please validate conversions
INFO: stdout 2023-03-20T03:00:07.164194:Image Decompression is new: please validate conversions
230320-03:00:07,164 nipype.interface INFO:
	 stdout 2023-03-20T03:00:07.164194:Warning: Unable to determine slice times for early GE HyperBand.
INFO: stdout 2023-03-20T03:00:07.164194:Warning: Unable to determine slice times for early GE HyperBand.
230320-03:00:07,164 nipype.interface INFO:
	 stdout 2023-03-20T03:00:07.164194:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-001_bold_heudiconv504 (64x64x52x200)
INFO: stdout 2023-03-20T03:00:07.164194:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-001_bold_heudiconv504 (64x64x52x200)
230320-03:00:11,339 nipype.interface INFO:
	 stdout 2023-03-20T03:00:11.339454:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-001_bold_heudiconv504.nii"
INFO: stdout 2023-03-20T03:00:11.339454:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-001_bold_heudiconv504.nii"
230320-03:00:11,339 nipype.interface INFO:
	 stdout 2023-03-20T03:00:11.339454:Conversion required 149.209082 seconds (12.983970 for core code).
INFO: stdout 2023-03-20T03:00:11.339454:Conversion required 149.209082 seconds (12.983970 for core code).
230320-03:00:11,393 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 149.291526s.
INFO: [Node] Finished "convert", elapsed time 149.291526s.
230320-03:00:12,3 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/tmp/embedmeta3km4jq0w/embedder".
INFO: [Node] Setting-up "embedder" in "/tmp/embedmeta3km4jq0w/embedder".
230320-03:00:14,345 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
230320-03:03:26,255 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 191.909094s.
INFO: [Node] Finished "embedder", elapsed time 191.909094s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-001_bold.json file
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-002_bold (5460 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func . Converter: dcm2niix . Output types: ('nii.gz',)
230320-03:03:27,356 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/tmp/dcm2niixxgj5q41k/convert".
INFO: [Node] Setting-up "convert" in "/tmp/dcm2niixxgj5q41k/convert".
230320-03:03:31,744 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230320-03:05:07,306 nipype.interface INFO:
	 stdout 2023-03-20T03:05:07.306009:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-03-20T03:05:07.306009:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230320-03:05:07,306 nipype.interface INFO:
	 stdout 2023-03-20T03:05:07.306009:Found 5460 DICOM file(s)
INFO: stdout 2023-03-20T03:05:07.306009:Found 5460 DICOM file(s)
230320-03:05:07,306 nipype.interface INFO:
	 stdout 2023-03-20T03:05:07.306009:Image Decompression is new: please validate conversions
INFO: stdout 2023-03-20T03:05:07.306009:Image Decompression is new: please validate conversions
230320-03:05:07,306 nipype.interface INFO:
	 stdout 2023-03-20T03:05:07.306009:Convert 5460 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-002_bold_heudiconv822 (64x64x52x105)
INFO: stdout 2023-03-20T03:05:07.306009:Convert 5460 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-002_bold_heudiconv822 (64x64x52x105)
230320-03:05:09,502 nipype.interface INFO:
	 stdout 2023-03-20T03:05:09.502032:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-002_bold_heudiconv822.nii"
INFO: stdout 2023-03-20T03:05:09.502032:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-002_bold_heudiconv822.nii"
230320-03:05:09,502 nipype.interface INFO:
	 stdout 2023-03-20T03:05:09.502032:Conversion required 97.600495 seconds (7.593018 for core code).
INFO: stdout 2023-03-20T03:05:09.502032:Conversion required 97.600495 seconds (7.593018 for core code).
230320-03:05:10,973 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 99.227521s.
INFO: [Node] Finished "convert", elapsed time 99.227521s.
230320-03:05:11,305 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/tmp/embedmetao3wolpnx/embedder".
INFO: [Node] Setting-up "embedder" in "/tmp/embedmetao3wolpnx/embedder".
230320-03:05:12,531 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
230320-03:06:52,774 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 100.241664s.
INFO: [Node] Finished "embedder", elapsed time 100.241664s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/sub-control17/ses-a/func/sub-control17_ses-a_task-rest_run-002_bold.json file
INFO: Populating template files under /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/
INFO: PROCESSING DONE: {'subject': 'control17', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long/bids/', 'session': 'a'}
[Mon Mar 20 16:06:53 2023]
Finished job 0.
1 of 1 steps (100%) done
