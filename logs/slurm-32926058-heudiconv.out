Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Select jobs to execute...

[Fri Feb 10 15:23:56 2023]
rule heudiconv:
    input: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/tidy/sub_rugby1/ses_a/.completed
    output: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/.heudiconv/rugby1/ses-a
    jobid: 0
    wildcards: resultsdir=/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1, subject=rugby1, session=a
    resources: mem_mb=4000, disk_mb=1000, tmpdir=/dev/shm/jobs/32926058, cpus=2, time_min=60, gpu=0

heudiconv --dicom_dir_template '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/tidy/sub_{subject}/ses_{session}/*/*' --outdir /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids --heuristic scripts/heuristic.py --subjects rugby1 --ses a --converter dcm2niix --bids --overwrite
Activating singularity image /scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/singularity/10b2306ed15c5efc917232958423bfe6.simg
INFO: Running heudiconv version 0.11.4.post18+g1fe815b.d20221025 latest 0.11.6
INFO: Need to process 1 study sessions
INFO: PROCESSING STARTS: {'subject': 'rugby1', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/', 'session': 'a'}
INFO: Processing 10599 dicoms
INFO: Analyzing 10599 dicoms
INFO: Generated sequence info for 2 studies with 10599 entries total
INFO: Doing conversion using dcm2niix
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w (199 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat . Converter: dcm2niix . Output types: ('nii.gz',)
230210-15:28:51,858 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/32926058/dcm2niix3b9qsz7c/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/32926058/dcm2niix3b9qsz7c/convert".
230210-15:28:51,965 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230210-15:28:53,754 nipype.interface INFO:
	 stdout 2023-02-10T15:28:53.754559:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-02-10T15:28:53.754559:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230210-15:28:53,754 nipype.interface INFO:
	 stdout 2023-02-10T15:28:53.754559:Found 199 DICOM file(s)
INFO: stdout 2023-02-10T15:28:53.754559:Found 199 DICOM file(s)
230210-15:28:53,755 nipype.interface INFO:
	 stdout 2023-02-10T15:28:53.754559:DICOM images may be missing, expected 300 spatial locations per volume, but found 199 slices.
INFO: stdout 2023-02-10T15:28:53.754559:DICOM images may be missing, expected 300 spatial locations per volume, but found 199 slices.
230210-15:28:53,755 nipype.interface INFO:
	 stdout 2023-02-10T15:28:53.754559:Convert 199 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w_heudiconv616 (512x512x199x1)
INFO: stdout 2023-02-10T15:28:53.754559:Convert 199 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w_heudiconv616 (512x512x199x1)
230210-15:28:58,610 nipype.interface INFO:
	 stdout 2023-02-10T15:28:58.610134:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w_heudiconv616.nii"
INFO: stdout 2023-02-10T15:28:58.610134:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w_heudiconv616.nii"
230210-15:28:58,612 nipype.interface INFO:
	 stdout 2023-02-10T15:28:58.610134:Conversion required 6.443887 seconds (0.426712 for core code).
INFO: stdout 2023-02-10T15:28:58.610134:Conversion required 6.443887 seconds (0.426712 for core code).
230210-15:28:58,639 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 6.491809s.
INFO: [Node] Finished "convert", elapsed time 6.491809s.
WARNING: Failed to find task field in /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w.json.
230210-15:28:58,666 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/32926058/embedmeta_axincux/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/32926058/embedmeta_axincux/embedder".
230210-15:28:58,698 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
230210-15:29:02,613 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 3.9137269999999997s.
INFO: [Node] Finished "embedder", elapsed time 3.9137269999999997s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/anat/sub-rugby1_ses-a_run-001_T1w.json file
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func/sub-rugby1_ses-a_task-rest_run-001_bold (10400 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func . Converter: dcm2niix . Output types: ('nii.gz',)
230210-15:29:03,229 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/32926058/dcm2niixwxgwvj6g/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/32926058/dcm2niixwxgwvj6g/convert".
230210-15:29:08,231 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230210-15:29:22,76 nipype.interface INFO:
	 stdout 2023-02-10T15:29:22.076060:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-02-10T15:29:22.076060:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230210-15:29:22,76 nipype.interface INFO:
	 stdout 2023-02-10T15:29:22.076060:Found 10400 DICOM file(s)
INFO: stdout 2023-02-10T15:29:22.076060:Found 10400 DICOM file(s)
230210-15:29:22,76 nipype.interface INFO:
	 stdout 2023-02-10T15:29:22.076060:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func/sub-rugby1_ses-a_task-rest_run-001_bold_heudiconv336 (64x64x52x200)
INFO: stdout 2023-02-10T15:29:22.076060:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func/sub-rugby1_ses-a_task-rest_run-001_bold_heudiconv336 (64x64x52x200)
230210-15:29:26,453 nipype.interface INFO:
	 stdout 2023-02-10T15:29:26.453070:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func/sub-rugby1_ses-a_task-rest_run-001_bold_heudiconv336.nii"
INFO: stdout 2023-02-10T15:29:26.453070:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func/sub-rugby1_ses-a_task-rest_run-001_bold_heudiconv336.nii"
230210-15:29:26,453 nipype.interface INFO:
	 stdout 2023-02-10T15:29:26.453070:Conversion required 18.192554 seconds (4.624768 for core code).
INFO: stdout 2023-02-10T15:29:26.453070:Conversion required 18.192554 seconds (4.624768 for core code).
230210-15:29:26,508 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 18.276111s.
INFO: [Node] Finished "convert", elapsed time 18.276111s.
230210-15:29:27,62 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/32926058/embedmetaz0k0xsqh/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/32926058/embedmetaz0k0xsqh/embedder".
230210-15:29:28,743 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
230210-15:32:58,807 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 210.062204s.
INFO: [Node] Finished "embedder", elapsed time 210.062204s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/sub-rugby1/ses-a/func/sub-rugby1_ses-a_task-rest_run-001_bold.json file
INFO: Populating template files under /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/
INFO: PROCESSING DONE: {'subject': 'rugby1', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long1/bids/', 'session': 'a'}
[Fri Feb 10 15:33:00 2023]
Finished job 0.
1 of 1 steps (100%) done
