Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Select jobs to execute...

[Thu Feb 23 12:39:45 2023]
rule heudiconv:
    input: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/tidy/sub_rugby1/ses_b/.completed
    output: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/.heudiconv/rugby1/ses-b
    jobid: 0
    wildcards: resultsdir=/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2, subject=rugby1, session=b
    resources: mem_mb=4000, disk_mb=1000, tmpdir=/dev/shm/jobs/33121809, cpus=2, time_min=60, gpu=0

heudiconv --dicom_dir_template '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/tidy/sub_{subject}/ses_{session}/*/*' --outdir /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids --heuristic scripts/heuristic.py --subjects rugby1 --ses b --converter dcm2niix --bids --overwrite
Activating singularity image /scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/singularity/10b2306ed15c5efc917232958423bfe6.simg
INFO: Running heudiconv version 0.11.4.post18+g1fe815b.d20221025 latest 0.12.0
INFO: Need to process 1 study sessions
INFO: PROCESSING STARTS: {'subject': 'rugby1', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/', 'session': 'b'}
INFO: Processing 10700 dicoms
INFO: Analyzing 10700 dicoms
INFO: Generated sequence info for 2 studies with 10700 entries total
INFO: Doing conversion using dcm2niix
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w (300 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat . Converter: dcm2niix . Output types: ('nii.gz',)
230223-12:43:39,530 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/33121809/dcm2niix65p1x1et/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/33121809/dcm2niix65p1x1et/convert".
230223-12:43:39,684 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230223-12:43:40,78 nipype.interface INFO:
	 stdout 2023-02-23T12:43:40.078488:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-02-23T12:43:40.078488:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230223-12:43:40,79 nipype.interface INFO:
	 stdout 2023-02-23T12:43:40.078488:Found 300 DICOM file(s)
INFO: stdout 2023-02-23T12:43:40.078488:Found 300 DICOM file(s)
230223-12:43:40,79 nipype.interface INFO:
	 stdout 2023-02-23T12:43:40.078488:Resolved discrepancy between tags (0020,1002; 0021,104F; 0054,0081)
INFO: stdout 2023-02-23T12:43:40.078488:Resolved discrepancy between tags (0020,1002; 0021,104F; 0054,0081)
230223-12:43:40,79 nipype.interface INFO:
	 stdout 2023-02-23T12:43:40.078488:Convert 300 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w_heudiconv131 (512x512x300x1)
INFO: stdout 2023-02-23T12:43:40.078488:Convert 300 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w_heudiconv131 (512x512x300x1)
230223-12:43:47,110 nipype.interface INFO:
	 stdout 2023-02-23T12:43:47.110735:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w_heudiconv131.nii"
INFO: stdout 2023-02-23T12:43:47.110735:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w_heudiconv131.nii"
230223-12:43:47,112 nipype.interface INFO:
	 stdout 2023-02-23T12:43:47.110735:Conversion required 7.234331 seconds (0.649986 for core code).
INFO: stdout 2023-02-23T12:43:47.110735:Conversion required 7.234331 seconds (0.649986 for core code).
230223-12:43:47,134 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 7.291256s.
INFO: [Node] Finished "convert", elapsed time 7.291256s.
WARNING: Failed to find task field in /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w.json.
230223-12:43:47,163 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/33121809/embedmeta4wzhg15n/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/33121809/embedmeta4wzhg15n/embedder".
230223-12:43:47,200 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
/opt/miniconda-py39_4.12.0/lib/python3.9/site-packages/pydicom/valuerep.py:290: UserWarning: The value length (32) exceeds the maximum length of 16 allowed for VR SH.
  warnings.warn(msg)
230223-12:43:52,648 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 5.446524s.
INFO: [Node] Finished "embedder", elapsed time 5.446524s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/anat/sub-rugby1_ses-b_run-001_T1w.json file
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_bold (10400 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func . Converter: dcm2niix . Output types: ('nii.gz',)
230223-12:43:53,165 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/33121809/dcm2niix8g9luj0_/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/33121809/dcm2niix8g9luj0_/convert".
230223-12:43:57,551 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
230223-12:44:00,715 nipype.interface INFO:
	 stdout 2023-02-23T12:44:00.715362:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2023-02-23T12:44:00.715362:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
230223-12:44:00,715 nipype.interface INFO:
	 stdout 2023-02-23T12:44:00.715362:Found 10400 DICOM file(s)
INFO: stdout 2023-02-23T12:44:00.715362:Found 10400 DICOM file(s)
230223-12:44:00,716 nipype.interface INFO:
	 stdout 2023-02-23T12:44:00.715362:Warning: Unable to determine slice times for early GE HyperBand.
INFO: stdout 2023-02-23T12:44:00.715362:Warning: Unable to determine slice times for early GE HyperBand.
230223-12:44:00,716 nipype.interface INFO:
	 stdout 2023-02-23T12:44:00.715362:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_bold_heudiconv297 (64x64x52x200)
INFO: stdout 2023-02-23T12:44:00.715362:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_bold_heudiconv297 (64x64x52x200)
230223-12:44:04,528 nipype.interface INFO:
	 stdout 2023-02-23T12:44:04.528117:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_bold_heudiconv297.nii"
INFO: stdout 2023-02-23T12:44:04.528117:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_bold_heudiconv297.nii"
230223-12:44:04,528 nipype.interface INFO:
	 stdout 2023-02-23T12:44:04.528117:Conversion required 6.939297 seconds (3.126217 for core code).
INFO: stdout 2023-02-23T12:44:04.528117:Conversion required 6.939297 seconds (3.126217 for core code).
230223-12:44:04,573 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 7.020257s.
INFO: [Node] Finished "convert", elapsed time 7.020257s.
230223-12:44:04,920 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/33121809/embedmeta9me2d5vr/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/33121809/embedmeta9me2d5vr/embedder".
230223-12:44:06,199 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
230223-12:47:24,232 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 198.031173s.
INFO: [Node] Finished "embedder", elapsed time 198.031173s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/sub-rugby1/ses-b/func/sub-rugby1_ses-b_task-rest_run-001_bold.json file
INFO: Populating template files under /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/
INFO: PROCESSING DONE: {'subject': 'rugby1', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test_long2/bids/', 'session': 'b'}
[Thu Feb 23 12:47:26 2023]
Finished job 0.
1 of 1 steps (100%) done
