Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Select jobs to execute...

[Tue Nov  1 10:23:46 2022]
rule heudiconv:
    input: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/tidy/sub_control17/ses_b/.completed
    output: /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b, /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/.heudiconv/control17/ses-b
    jobid: 0
    wildcards: resultsdir=/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test, subject=control17, session=b
    resources: mem_mb=4000, disk_mb=1000, tmpdir=/dev/shm/jobs/31156339, cpus=2, time_min=60, gpu=0

heudiconv --dicom_dir_template '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/tidy/sub_{subject}/ses_{session}/*/*' --outdir /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids --heuristic scripts/heuristic.py --subjects control17 --ses b --converter dcm2niix --bids --overwrite
Activating singularity image /scale_wlg_persistent/filesets/project/uoa03264/fmri_workflow/.snakemake/singularity/10b2306ed15c5efc917232958423bfe6.simg
INFO: Running heudiconv version 0.11.4.post18+g1fe815b.d20221025 latest 0.11.4
INFO: Need to process 1 study sessions
INFO: PROCESSING STARTS: {'subject': 'control17', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/', 'session': 'b'}
INFO: Processing 16504 dicoms
INFO: Analyzing 16504 dicoms
INFO: Generated sequence info for 5 studies with 16504 entries total
INFO: Doing conversion using dcm2niix
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w (320 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat . Converter: dcm2niix . Output types: ('nii.gz',)
221101-10:33:10,421 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/31156339/dcm2niixf5skabul/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/31156339/dcm2niixf5skabul/convert".
221101-10:33:10,601 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
221101-10:33:28,227 nipype.interface INFO:
	 stdout 2022-11-01T10:33:28.227283:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2022-11-01T10:33:28.227283:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
221101-10:33:28,227 nipype.interface INFO:
	 stdout 2022-11-01T10:33:28.227283:Found 320 DICOM file(s)
INFO: stdout 2022-11-01T10:33:28.227283:Found 320 DICOM file(s)
221101-10:33:28,227 nipype.interface INFO:
	 stdout 2022-11-01T10:33:28.227283:Image Decompression is new: please validate conversions
INFO: stdout 2022-11-01T10:33:28.227283:Image Decompression is new: please validate conversions
221101-10:33:28,228 nipype.interface INFO:
	 stdout 2022-11-01T10:33:28.227283:Resolved discrepancy between tags (0020,1002; 0021,104F; 0054,0081)
INFO: stdout 2022-11-01T10:33:28.227283:Resolved discrepancy between tags (0020,1002; 0021,104F; 0054,0081)
221101-10:33:28,228 nipype.interface INFO:
	 stdout 2022-11-01T10:33:28.227283:Convert 320 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w_heudiconv755 (512x512x320x1)
INFO: stdout 2022-11-01T10:33:28.227283:Convert 320 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w_heudiconv755 (512x512x320x1)
221101-10:33:36,469 nipype.interface INFO:
	 stdout 2022-11-01T10:33:36.469919:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w_heudiconv755.nii"
INFO: stdout 2022-11-01T10:33:36.469919:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w_heudiconv755.nii"
221101-10:33:36,473 nipype.interface INFO:
	 stdout 2022-11-01T10:33:36.469919:Conversion required 25.749684 seconds (13.712722 for core code).
INFO: stdout 2022-11-01T10:33:36.469919:Conversion required 25.749684 seconds (13.712722 for core code).
221101-10:33:36,502 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 25.804587s.
INFO: [Node] Finished "convert", elapsed time 25.804587s.
WARNING: Failed to find task field in /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w.json.
221101-10:33:36,539 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/31156339/embedmetafzvrqkc5/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/31156339/embedmetafzvrqkc5/embedder".
221101-10:33:36,591 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
/opt/miniconda-py39_4.12.0/lib/python3.9/site-packages/pydicom/valuerep.py:290: UserWarning: The value length (32) exceeds the maximum length of 16 allowed for VR SH.
  warnings.warn(msg)
221101-10:33:55,681 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 19.088011s.
INFO: [Node] Finished "embedder", elapsed time 19.088011s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/anat/sub-control17_ses-b_run-001_T1w.json file
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-001_bold (10400 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func . Converter: dcm2niix . Output types: ('nii.gz',)
221101-10:33:58,196 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/31156339/dcm2niixv_ar01h0/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/31156339/dcm2niixv_ar01h0/convert".
221101-10:34:04,388 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
221101-10:37:49,208 nipype.interface INFO:
	 stdout 2022-11-01T10:37:49.208127:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2022-11-01T10:37:49.208127:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
221101-10:37:49,216 nipype.interface INFO:
	 stdout 2022-11-01T10:37:49.208127:Found 10400 DICOM file(s)
INFO: stdout 2022-11-01T10:37:49.208127:Found 10400 DICOM file(s)
221101-10:37:49,216 nipype.interface INFO:
	 stdout 2022-11-01T10:37:49.208127:Image Decompression is new: please validate conversions
INFO: stdout 2022-11-01T10:37:49.208127:Image Decompression is new: please validate conversions
221101-10:37:49,217 nipype.interface INFO:
	 stdout 2022-11-01T10:37:49.208127:Warning: Unable to determine slice times for early GE HyperBand.
INFO: stdout 2022-11-01T10:37:49.208127:Warning: Unable to determine slice times for early GE HyperBand.
221101-10:37:49,217 nipype.interface INFO:
	 stdout 2022-11-01T10:37:49.208127:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-001_bold_heudiconv827 (64x64x52x200)
INFO: stdout 2022-11-01T10:37:49.208127:Convert 10400 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-001_bold_heudiconv827 (64x64x52x200)
221101-10:37:54,781 nipype.interface INFO:
	 stdout 2022-11-01T10:37:54.781658:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-001_bold_heudiconv827.nii"
INFO: stdout 2022-11-01T10:37:54.781658:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-001_bold_heudiconv827.nii"
221101-10:37:54,782 nipype.interface INFO:
	 stdout 2022-11-01T10:37:54.781658:Conversion required 230.340509 seconds (22.526802 for core code).
INFO: stdout 2022-11-01T10:37:54.781658:Conversion required 230.340509 seconds (22.526802 for core code).
221101-10:37:54,846 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 230.456182s.
INFO: [Node] Finished "convert", elapsed time 230.456182s.
221101-10:37:55,299 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/31156339/embedmetaxf7v0_jf/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/31156339/embedmetaxf7v0_jf/embedder".
221101-10:37:56,977 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
221101-10:43:18,829 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 321.850099s.
INFO: [Node] Finished "embedder", elapsed time 321.850099s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-001_bold.json file
INFO: Converting /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-002_bold (5460 DICOMs) -> /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func . Converter: dcm2niix . Output types: ('nii.gz',)
221101-10:43:20,642 nipype.workflow INFO:
	 [Node] Setting-up "convert" in "/dev/shm/jobs/31156339/dcm2niixdnhrkoq_/convert".
INFO: [Node] Setting-up "convert" in "/dev/shm/jobs/31156339/dcm2niixdnhrkoq_/convert".
221101-10:43:23,745 nipype.workflow INFO:
	 [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
INFO: [Node] Executing "convert" <nipype.interfaces.dcm2nii.Dcm2niix>
221101-10:44:50,809 nipype.interface INFO:
	 stdout 2022-11-01T10:44:50.809158:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
INFO: stdout 2022-11-01T10:44:50.809158:Chris Rorden's dcm2niiX version v1.0.20220720  (JP2:OpenJPEG) (JP-LS:CharLS) GCC10.2.1 x86-64 (64-bit Linux)
221101-10:44:50,809 nipype.interface INFO:
	 stdout 2022-11-01T10:44:50.809158:Found 5460 DICOM file(s)
INFO: stdout 2022-11-01T10:44:50.809158:Found 5460 DICOM file(s)
221101-10:44:50,809 nipype.interface INFO:
	 stdout 2022-11-01T10:44:50.809158:Image Decompression is new: please validate conversions
INFO: stdout 2022-11-01T10:44:50.809158:Image Decompression is new: please validate conversions
221101-10:44:50,809 nipype.interface INFO:
	 stdout 2022-11-01T10:44:50.809158:Convert 5460 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-002_bold_heudiconv297 (64x64x52x105)
INFO: stdout 2022-11-01T10:44:50.809158:Convert 5460 DICOM as /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-002_bold_heudiconv297 (64x64x52x105)
221101-10:44:53,713 nipype.interface INFO:
	 stdout 2022-11-01T10:44:53.712938:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-002_bold_heudiconv297.nii"
INFO: stdout 2022-11-01T10:44:53.712938:Compress: "/usr/bin/pigz" -b 960 -n -f -6 "/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-002_bold_heudiconv297.nii"
221101-10:44:53,713 nipype.interface INFO:
	 stdout 2022-11-01T10:44:53.712938:Conversion required 89.768796 seconds (11.576508 for core code).
INFO: stdout 2022-11-01T10:44:53.712938:Conversion required 89.768796 seconds (11.576508 for core code).
221101-10:44:55,340 nipype.workflow INFO:
	 [Node] Finished "convert", elapsed time 91.592811s.
INFO: [Node] Finished "convert", elapsed time 91.592811s.
221101-10:44:55,587 nipype.workflow INFO:
	 [Node] Setting-up "embedder" in "/dev/shm/jobs/31156339/embedmetadqruvphf/embedder".
INFO: [Node] Setting-up "embedder" in "/dev/shm/jobs/31156339/embedmetadqruvphf/embedder".
221101-10:44:56,478 nipype.workflow INFO:
	 [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
INFO: [Node] Executing "embedder" <nipype.interfaces.utility.wrappers.Function>
221101-10:47:31,688 nipype.workflow INFO:
	 [Node] Finished "embedder", elapsed time 155.207132s.
INFO: [Node] Finished "embedder", elapsed time 155.207132s.
INFO: Post-treating /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/sub-control17/ses-b/func/sub-control17_ses-b_task-rest_run-002_bold.json file
INFO: Populating template files under /nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/
INFO: PROCESSING DONE: {'subject': 'control17', 'outdir': '/nesi/nobackup/uoa03264/fMRIpipeline_data/processed_test/bids/', 'session': 'b'}
[Tue Nov  1 10:47:33 2022]
Finished job 0.
1 of 1 steps (100%) done
